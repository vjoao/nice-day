(function(t){function e(e){for(var r,a,c=e[0],s=e[1],u=e[2],p=0,d=[];p<c.length;p++)a=c[p],i[a]&&d.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={0:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;o.push([0,1]),n()})({0:function(t,e,n){t.exports=n("Vtdi")},"1Svm":function(t,e,n){},"2nNq":function(t,e,n){"use strict";var r=n("ALG7"),i=n.n(r);i.a},"6sBq":function(t,e,n){"use strict";var r=n("UxHA"),i=n.n(r);i.a},ALG7:function(t,e,n){},"EG/1":function(t,e,n){},Meg4:function(t,e,n){var r={"./drizzle.svg":"cAiP","./location.svg":"ofsA","./thermometer.svg":"yX/v","./wind.svg":"W22E"};function i(t){var e=o(t);return n(e)}function o(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id="Meg4"},Naju:function(t,e,n){"use strict";var r=n("1Svm"),i=n.n(r);i.a},UxHA:function(t,e,n){},Vtdi:function(t,e,n){"use strict";n.r(e);n("yt8O"),n("VRzm");var r=n("Kw5r"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper",style:{backgroundColor:t.backgroundColor},attrs:{id:"app"}},[n("transition",{attrs:{name:"slide-fade"}},[n("router-view",{staticClass:"expanded"})],1)],1)},o=[],a=n("yT7P"),c=n("L2JU"),s=Object(c["a"])("ui"),u=s.mapGetters,l={computed:Object(a["a"])({},u(["backgroundColor"]))},p=l,d=(n("XAuw"),n("KHd+")),m=Object(d["a"])(p,i,o,!1,null,null,null),f=m.exports,h=n("jE9Z"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("nav",{staticClass:"nav"},[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.refresh()}}},[t._v("Refresh")]),n("router-link",{attrs:{to:"/settings"}},[t._v("Settings")])],1),n("main",{staticClass:"content text-center"},[n("h1",{staticClass:"is-light text-center"},[t._v("Hello there!")]),n("div",{staticClass:"location is-light"},[n("svg-icon",{attrs:{name:"location"}}),n("h3",[t._v(" "+t._s(t.position.address)+" ")])],1),t.loading?t._e():n("h2",{staticClass:"is-light text-center",class:{"is-error":t.error}},[t._v(t._s(t.weatherMessage))]),t.error||t.loading?t._e():n("info-grid",{attrs:{conditions:t.weatherConditions}}),t.loading?n("the-loader"):t._e()],1)])},g=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"grid"},[n("icon-box",{attrs:{icon:"drizzle",info:t.rainIntensityText}}),n("icon-box",{attrs:{icon:"thermometer",info:t.temperatureText}}),n("icon-box",{attrs:{icon:"wind",info:t.windSpeedText}})],1)},w=[],b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col align-center"},[n("svg-icon",{attrs:{name:t.icon}}),n("h2",{staticClass:"text-center is-light",class:{"is-error":t.danger}},[t._v(t._s(t.info))])],1)},x=[],y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.currentIcon,{tag:"component"})},C=[],S=(n("f3/d"),{props:{name:{type:String,required:!0}},data:function(){return{currentIcon:n("Meg4")("./".concat(this.name,".svg"))}}}),M=S,O=(n("pKpZ"),Object(d["a"])(M,y,C,!1,null,null,null)),E=O.exports,j={components:{SvgIcon:E},props:{icon:String,info:String,danger:Boolean}},z=j,k=Object(d["a"])(z,b,x,!1,null,null,null),I=k.exports,T={components:{IconBox:I},props:{conditions:{type:Object,required:!0}},computed:{temperatureText:function(){return"Current temperature: ".concat(this.conditions.temperature)},rainIntensityText:function(){return"Rain intensity: ".concat(this.conditions.rainIntensity)},windSpeedText:function(){return"Wind speed: ".concat(this.conditions.windSpeed)}}},P=T,A=(n("Naju"),Object(d["a"])(P,_,w,!1,null,"d473fd7e",null)),W=A.exports,$={components:{InfoGrid:W},data:function(){return{loading:!1}},mounted:function(){var t=this;this.loading=!0,this.requestPosition().then(this.refresh).catch(function(e){t.loading=!1})},computed:Object(a["a"])({},Object(c["e"])({error:function(t){return t.error},weatherConditions:function(t){return t.weather.conditions},position:function(t){return t.user.position}}),Object(c["d"])({weatherIsNice:"weather/weatherIsNice"}),{weatherMessage:function(){var t="The weather is ";return this.error?this.error:this.weatherIsNice?"".concat(t," good today! :)"):"".concat(t," not so good :(")}}),methods:Object(a["a"])({},Object(c["c"])({fetchWeather:"weather/fetchWeather",requestPosition:"user/requestPosition"}),{refresh:function(){var t=this;return this.loading=!0,this.fetchWeather().then(function(){t.loading=!1})}})},F=$,N=(n("u66/"),Object(d["a"])(F,v,g,!1,null,"b6ff0b84",null)),R=N.exports,q=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},B=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("This is an about page")])])}],D={},G=Object(d["a"])(D,q,B,!1,null,null,null),V=G.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings"},[n("nav",{staticClass:"nav"},[n("router-link",{staticClass:"is-light is-big",attrs:{to:"/"}},[t._v("X")])],1),n("main",{staticClass:"flex flex-col align-center"},[n("section",{staticClass:"container flex flex-col align-center"},[n("div",{staticClass:"grid"},[n("base-input",{attrs:{label:"Wind speed max (m/s)",placeholder:"Type here",type:"number"},model:{value:t.windSpeed,callback:function(e){t.windSpeed=t._n(e)},expression:"windSpeed"}}),n("base-input",{attrs:{label:"Rain intensity max (mm/h)",placeholder:"Type here",type:"number"},model:{value:t.rainIntensity,callback:function(e){t.rainIntensity=t._n(e)},expression:"rainIntensity"}})],1),n("div",{staticClass:"grid"},[n("base-input",{attrs:{label:"Temperature min (°C)",placeholder:"Type here",type:"number"},model:{value:t.temperatureMin,callback:function(e){t.temperatureMin=t._n(e)},expression:"temperatureMin"}}),n("base-input",{attrs:{label:"Temperature max (°C)",placeholder:"Type here",type:"number"},model:{value:t.temperatureMax,callback:function(e){t.temperatureMax=t._n(e)},expression:"temperatureMax"}})],1),n("button",{staticClass:"save-button",on:{click:t.save}},[t._v("\n        save\n      ")])])])])},U=[],J=Object(c["a"])("preferences"),K=J.mapActions,X=J.mapState,L={data:function(){return{rainIntensity:0,temperatureMin:0,temperatureMax:0,windSpeed:0}},mounted:function(){this.rainIntensity=this.rain,this.temperatureMin=this.tempMin,this.temperatureMax=this.tempMax,this.windSpeed=this.wind},computed:Object(a["a"])({},X({rain:function(t){return t.rainIntensity},tempMin:function(t){return t.temperatureMin},tempMax:function(t){return t.temperatureMax},wind:function(t){return t.windSpeed}})),methods:Object(a["a"])({},K(["setPreferences"]),{save:function(){var t=this.rainIntensity,e=this.temperatureMin,n=this.temperatureMax,r=this.windSpeed;this.setPreferences({rainIntensity:t,temperatureMin:e,temperatureMax:n,windSpeed:r})}})},Y=L,Z=(n("2nNq"),Object(d["a"])(Y,H,U,!1,null,"298742be",null)),Q=Z.exports;r["a"].use(h["a"]);var tt=new h["a"]({routes:[{path:"/",name:"home",component:R},{path:"/about",name:"about",component:V},{path:"/settings",name:"settings",component:Q}]}),et=n("oyJW"),nt=n("DkTT"),rt=(n("RW0V"),n("rGqo"),"SET_ADDRESS"),it="SET_ERROR",ot="SET_POSITION",at="SET_PREFERENCES",ct="UPDATE_WEATHER",st={namespaced:!0,state:{rainIntensity:0,temperatureMin:0,temperatureMax:0,windSpeed:0,hasBeenSet:!1},mutations:{SET_PREFERENCES:function(t,e){Object.keys(e).forEach(function(n){t[n]=e[n]}),t.hasBeenSet=!0}},actions:{setPreferences:function(t,e){var n=t.commit,r=e.rainIntensity,i=e.temperatureMin,o=e.temperatureMax,a=e.windSpeed;n(at,{rainIntensity:r,temperatureMin:i,temperatureMax:o,windSpeed:a}),n("auth/SET_API_KEY",e.apiKey,{root:!0})}},getters:{}},ut={namespaced:!0,getters:{backgroundColor:function(t,e,n,r){return!n.error&&r["weather/weatherIsNice"]?"#44AF69":"#2B303A"}}},lt=n("vDqi"),pt=n.n(lt);function dt(t){var e=t.results.map(function(t){return t.formatted_address});return e.length>2?e[e.length-2]:e[0]}var mt,ft={geocodePosition:function(t){return pt.a.get("https://maps.googleapis.com/maps/api/geocode/json?&latlng=".concat(t.latitude,",").concat(t.longitude)).then(function(t){return t.data}).then(function(t){return t.results&&t.results.length?dt(t):"Could not find your location"})},getCurrentPosition:function(t){return new Promise(function(e,n){navigator.geolocation.getCurrentPosition(function(t){return e(t)},function(t){return n(t)},t)})}},ht={namespaced:!0,state:{position:{latitude:0,longitude:0,address:""}},mutations:(mt={},Object(et["a"])(mt,rt,function(t,e){t.position.address=e}),Object(et["a"])(mt,ot,function(t,e){var n=e.latitude,r=e.longitude;t.position.latitude=n,t.position.longitude=r}),mt),actions:{requestPosition:function(t){var e=t.commit;return ft.getCurrentPosition().then(function(t){var n=t.coords;return e(ot,n),ft.geocodePosition(n)}).then(function(t){e(rt,t)}).catch(function(t){e(it,t.message,{root:!0})})}}};function vt(t,e,n){var r=t<e,i=t>n;return!r&&!i}var gt="https://weather-proxy.herokuapp.com/weather",_t={get:function(t){return pt.a.get("".concat(gt,"?latitude=").concat(t.latitude,"&longitude=").concat(t.longitude))}},wt={namespaced:!0,state:{conditions:{rainIntensity:0,temperature:0,windSpeed:0}},mutations:Object(et["a"])({},ct,function(t,e){var n=e.windSpeed,r=e.precipIntensity,i=e.apparentTemperature;t.conditions={windSpeed:n,rainIntensity:r,temperature:i}}),actions:{fetchWeather:function(t){var e=t.commit,n=t.rootState;if(n.preferences.hasBeenSet)return _t.get(n.user.position).then(function(t){return t.data}).then(function(t){return e(it,null,{root:!0}),e(ct,t),t}).catch(function(t){e(it,t.message,{root:!0})});e(it,"Please tell me your preferences of a nice weather!",{root:!0})}},getters:{weatherIsNice:function(t,e,n){var r=t.conditions,i=r.rainIntensity,o=r.temperature,a=r.windSpeed,c=n.preferences,s=c.temperatureMin,u=c.temperatureMax,l=i<=n.preferences.rainIntensity,p=vt(o,s,u),d=a<=n.preferences.windSpeed;return d&&l&&p}}};r["a"].use(c["b"]);var bt=new c["b"].Store({state:{error:""},mutations:Object(et["a"])({},it,function(t,e){t.error=e}),modules:{preferences:st,ui:ut,user:ht,weather:wt},plugins:[Object(nt["a"])({paths:["preferences","user"]})]}),xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loader"})},yt=[],Ct=(n("ah8G"),{}),St=Object(d["a"])(Ct,xt,yt,!1,null,null,null),Mt=St.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-control"},[n("h2",{staticClass:"label is-light"},[t._v(t._s(t.label)+":")]),n("input",t._b({domProps:{value:t.value},on:{input:t.updateValue}},"input",t.$attrs,!1))])},Et=[],jt={props:["value","label"],methods:{updateValue:function(t){this.$emit("input",t.target.value)}}},zt=jt,kt=(n("6sBq"),Object(d["a"])(zt,Ot,Et,!1,null,"4dbd3af1",null)),It=kt.exports;r["a"].component("the-loader",Mt),r["a"].component("base-input",It),r["a"].config.productionTip=!1,new r["a"]({router:tt,store:bt,render:function(t){return t(f)}}).$mount("#app")},W22E:function(t,e){var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"climacon climacon_wind",attrs:{viewBox:"15 15 70 70"}},[n("g",{staticClass:"climacon_iconWrap climacon_iconWrap-wind"},[n("g",{staticClass:"climacon_wrapperComponent climacon_componentWrap-wind"},[n("path",{staticClass:"climacon_component climacon_component-stroke climacon_component-wind climacon_component-wind_curl",attrs:{d:"M65.999 52h-3a2 2 0 1 1 0-3.999h3a2 2 0 0 0 0-3.999 2 2 0 1 1 .401-3.959c3.121.211 5.597 2.783 5.597 5.959A5.998 5.998 0 0 1 65.999 52z"}}),n("path",{staticClass:"climacon_component climacon_component-stroke climacon_component-wind",attrs:{d:"M55.999 48.001H34.002a2 2 0 0 0 0 3.999h21.997c3.313 0 6 2.688 6 6 0 3.176-2.476 5.748-5.597 5.959A2 2 0 1 0 55.999 56H34.002a6 6 0 0 1-5.999-5.999c0-3.175 2.475-5.747 5.596-5.959a2.07 2.07 0 0 1 .403-.04h21.997a2 2 0 0 0 0-4 2 2 0 1 1 .403-3.959c3.121.211 5.597 2.783 5.597 5.959a6 6 0 0 1-6 5.999z"}})])])])},r=function(){return"/home/victor/nice-day/src/assets/wind.svg"};t.exports={render:n,toString:r}},XAuw:function(t,e,n){"use strict";var r=n("EG/1"),i=n.n(r);i.a},YUOJ:function(t,e,n){},ah8G:function(t,e,n){"use strict";var r=n("YUOJ"),i=n.n(r);i.a},cAiP:function(t,e){var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"climacon climacon_cloudDrizzleFill",attrs:{viewBox:"15 15 70 70"}},[n("g",{staticClass:"climacon_iconWrap climacon_iconWrap-cloudDrizzleFill"},[n("g",{staticClass:"climacon_wrapperComponent climacon_wrapperComponent-drizzle"},[n("path",{staticClass:"climacon_component climacon_component-stroke climacon_component-stroke_drizzle climacon_component-stroke_drizzle-left",attrs:{d:"M42.001 53.644a2 2 0 0 1 2 2v3.998a2 2 0 0 1-4.001 0v-3.998a2 2 0 0 1 2.001-2z"}}),n("path",{staticClass:"climacon_component climacon_component-stroke climacon_component-stroke_drizzle climacon_component-stroke_drizzle-middle",attrs:{d:"M49.999 53.644a2 2 0 0 1 2 2v4a1.999 1.999 0 0 1-3.998 0v-4a2 2 0 0 1 1.998-2z"}}),n("path",{staticClass:"climacon_component climacon_component-stroke climacon_component-stroke_drizzle climacon_component-stroke_drizzle-right",attrs:{d:"M57.999 53.644a2 2 0 0 1 2 2v3.998a2 2 0 0 1-4 0v-3.998c0-1.106.895-2 2-2z"}})]),n("g",{staticClass:"climacon_componentWrap climacon_componentWrap_cloud"},[n("path",{staticClass:"climacon_component climacon_component-stroke climacon_component-stroke_cloud",attrs:{d:"M43.945 65.639c-8.835 0-15.998-7.162-15.998-15.998 0-8.836 7.163-15.998 15.998-15.998 6.004 0 11.229 3.312 13.965 8.203.664-.113 1.338-.205 2.033-.205 6.627 0 11.998 5.373 11.998 12 0 6.625-5.371 11.998-11.998 11.998H43.945z"}}),n("path",{staticClass:"climacon_component climacon_component-fill climacon_component-fill_cloud",attrs:{fill:"#FFF",d:"M59.943 61.639a8 8 0 1 0 0-15.998 7.944 7.944 0 0 0-4.334 1.291c-1.23-5.316-5.973-9.29-11.665-9.29-6.626 0-11.998 5.372-11.998 11.999 0 6.626 5.372 11.998 11.998 11.998h15.999z"}})])])])},r=function(){return"/home/victor/nice-day/src/assets/drizzle.svg"};t.exports={render:n,toString:r}},ofsA:function(t,e){var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512"}},[n("path",{attrs:{d:"M256 0C153.755 0 70.573 83.182 70.573 185.426c0 126.888 165.939 313.167 173.004 321.035 6.636 7.391 18.222 7.378 24.846 0 7.065-7.868 173.004-194.147 173.004-321.035C441.425 83.182 358.244 0 256 0zm0 278.719c-51.442 0-93.292-41.851-93.292-93.293S204.559 92.134 256 92.134s93.291 41.851 93.291 93.293-41.85 93.292-93.291 93.292z",fill:"#FFF"}})])},r=function(){return"/home/victor/nice-day/src/assets/location.svg"};t.exports={render:n,toString:r}},pKpZ:function(t,e,n){"use strict";var r=n("wwce"),i=n.n(r);i.a},ru65:function(t,e,n){},"u66/":function(t,e,n){"use strict";var r=n("ru65"),i=n.n(r);i.a},wwce:function(t,e,n){},"yX/v":function(t,e){var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 295.5 295.5",width:"128",height:"128"}},[n("path",{staticClass:"climacon_component climacon_component-stroke icon-thermometer",attrs:{d:"M180.604 209.985V33.166C180.604 14.85 165.922 0 147.603 0c-18.316 0-32.999 14.85-32.999 33.166v176.819c-10 8.987-15.958 21.962-15.958 36.39 0 27.13 22.076 49.125 49.208 49.125 27.131 0 49-21.995 49-49.125 0-14.428-6.25-27.402-16.25-36.39zM147.603 16c9.374 0 17.001 7.701 17.001 17.166V48.5h-17v16h17v17h-17v16h17v17h-17v16h17v17h-34V33.166c0-9.465 7.626-17.166 16.999-17.166z",fill:"#FFF"}})])},r=function(){return"/home/victor/nice-day/src/assets/thermometer.svg"};t.exports={render:n,toString:r}}});
//# sourceMappingURL=app.b2e993f6.js.map